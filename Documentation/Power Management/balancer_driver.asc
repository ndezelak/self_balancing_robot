Version 4
SHEET 1 880 680
WIRE 496 -96 352 -96
WIRE 160 -64 -64 -64
WIRE 352 -64 352 -96
WIRE 496 64 496 -96
WIRE 496 80 496 64
WIRE 160 96 160 16
WIRE 352 96 352 16
WIRE -64 112 -64 -64
WIRE 496 192 496 144
WIRE 496 192 352 192
WIRE 160 240 160 192
WIRE 80 256 -16 256
WIRE -16 288 -16 256
WIRE 80 320 80 256
WIRE 112 320 80 320
WIRE -64 368 -64 192
WIRE -16 368 -64 368
WIRE 160 368 160 336
WIRE 160 368 -16 368
WIRE 160 384 160 368
WIRE 496 384 496 192
FLAG 160 384 0
FLAG 496 384 0
SYMBOL Optos\\PC817D 256 144 R0
SYMATTR InstName U1
SYMBOL nmos 112 240 R0
SYMATTR InstName M1
SYMATTR Value Si7540DP_N
SYMBOL res 336 -80 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL res 144 -80 R0
SYMATTR InstName R2
SYMATTR Value 250
SYMBOL voltage -64 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V1
SYMATTR Value 12
SYMATTR SpiceLine Rser=10m
SYMBOL voltage -16 272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 0 1n 1n 1m 2m 5)
SYMATTR SpiceLine Rser=10m
SYMBOL voltage 496 48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V3
SYMATTR Value 4.2
SYMATTR SpiceLine Rser=10m
TEXT 0 488 Left 2 !.tran 0.5
